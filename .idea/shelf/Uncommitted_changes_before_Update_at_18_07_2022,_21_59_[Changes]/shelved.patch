Index: templates/sidebar.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!-- Sidebar -->\n<ul class=\"navbar-nav bg-gradient-secondary sidebar sidebar-dark accordion\" id=\"accordionSidebar\">\n\n    <!-- Sidebar - Brand -->\n    <a class=\"sidebar-brand d-flex align-items-center justify-content-center\" href=\"/\">\n        <div class=\"sidebar-brand-icon\">\n            <i class=\"fab fa-wolf-pack-battalion\"></i>\n        </div>\n        <div class=\"sidebar-brand-text mx-3\">Wolf</div>\n    </a>\n\n    <!-- Divider -->\n    <hr class=\"sidebar-divider my-0\">\n\n    <!-- Nav Item - Dashboard -->\n    <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"/\">\n            <i class=\"fa fa-user\"></i>\n            <span>Adhérents</span></a>\n    </li>\n\n    <!-- Divider -->\n    <hr class=\"sidebar-divider my-0\">\n\n    <!-- Nav Item - Photos -->\n    <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"/formations\">\n            <i class=\"fas fa-chalkboard-teacher\"></i>\n            <span>Formations</span></a>\n    </li>\n\n\n    <!--    &lt;!&ndash; Divider &ndash;&gt;-->\n    <!--    <hr class=\"sidebar-divider my-0\">-->\n\n    <!--    &lt;!&ndash; Nav Item - Photos &ndash;&gt;-->\n    <!--    <li class=\"nav-item active\">-->\n    <!--        <a class=\"nav-link\" href=\"/stream\">-->\n    <!--            <i class=\"fas fa-tv\"></i>-->\n    <!--            <span>Emprunts</span></a>-->\n    <!--    </li>-->\n\n    <!-- Divider -->\n    <hr class=\"sidebar-divider m-0\">\n\n    <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"https://gestion.eirlab.net/public/ticket/create_ticket.php?subject=[WOLF]-\" target=\"_blank\">\n            <i class=\"fas fa-bug\"></i>\n            <span>Signaler un bug</span></a>\n    </li>\n\n    <!-- Divider -->\n    <hr class=\"sidebar-divider m-0\">\n\n    <!-- Divider -->\n    <hr class=\"sidebar-divider d-none d-md-block\">\n\n\n    <!-- Sidebar Toggler (Sidebar) -->\n    <div class=\"text-center d-none d-md-inline\">\n        <button class=\"rounded-circle border-0\" id=\"sidebarToggle\"></button>\n    </div>\n</ul>\n<!-- End of Sidebar -->
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/templates/sidebar.html b/templates/sidebar.html
--- a/templates/sidebar.html	(revision f0655359b87b2b055862780849f08fe0f4d2426b)
+++ b/templates/sidebar.html	(date 1658173881896)
@@ -29,6 +29,15 @@
             <span>Formations</span></a>
     </li>
 
+        <!-- Divider -->
+    <hr class="sidebar-divider my-0">
+
+    <!-- Nav Item - Photos -->
+    <li class="nav-item active">
+        <a class="nav-link" href="/stock">
+            <i class="fas fa-box"></i>
+            <span>Stocks</span></a>
+    </li>
 
     <!--    &lt;!&ndash; Divider &ndash;&gt;-->
     <!--    <hr class="sidebar-divider my-0">-->
Index: templates/404.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% extends \"base.html\" %}\n\n{% block content %}\n    <div id=\"content\" class=\"container-fluid\">\n        <div class=\"text-center\">\n            <div class=\"mt-4 error mx-auto\" data-text=\"404\">404</div>\n            <p class=\"lead text-gray-800 mb-5\">Cette page n'existe pas</p>\n            <a href=\"/\" class=\"text-success\">&larr; Revenir sur le Dashboard</a>\n        </div>\n    </div>\n{% endblock %}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/templates/404.html b/templates/404.html
--- a/templates/404.html	(revision f0655359b87b2b055862780849f08fe0f4d2426b)
+++ b/templates/404.html	(date 1658173966052)
@@ -5,7 +5,7 @@
         <div class="text-center">
             <div class="mt-4 error mx-auto" data-text="404">404</div>
             <p class="lead text-gray-800 mb-5">Cette page n'existe pas</p>
-            <a href="/" class="text-success">&larr; Revenir sur le Dashboard</a>
+            <a href="/" class="text-secondary">&larr; Revenir sur le Dashboard</a>
         </div>
     </div>
 {% endblock %}
Index: common.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import datetime\nimport json\n\nimport requests\nfrom flask import Blueprint, render_template\n\nimport config\n\nPUB = True\n\n\ndef update_member(member, formation, actual_n_serie):\n    print(formation)\n    try:\n        formations = member[\"array_options\"][\"options_impression3d\"]\n    except (TypeError, KeyError):\n        formations = \"\"\n    if formations is None:\n        formations = \"\"\n    id = member[\"id\"]\n    if formation is not None:\n        with open('formations.json') as json_file:\n            json_formations = json.load(json_file)\n            if json_formations[formation]['id'] not in formations:\n                formations = formations + ',' + json_formations[formation]['id']\n                member[\"array_options\"][\"options_impression3d\"] = formations\n    url = \"https://gestion.eirlab.net/api/index.php/members/\" + str(id)\n    content = {\n        \"array_options\": {\n            \"options_impression3d\": formations,\n            \"options_nserie\": actual_n_serie\n        }\n    }\n    print(content)\n    if PUB:\n        r = requests.put(url, json=content, headers=config.headers)\n    return member\n\n\ndef process_member(member):\n    timestamp_begin = datetime.datetime.fromtimestamp(member[\"datec\"])\n    member[\"datec\"] = timestamp_begin.strftime('%d/%m/%Y')\n    try:\n        timestamp = datetime.datetime.fromtimestamp(member[\"last_subscription_date_end\"])\n    except TypeError:\n        timestamp = timestamp_begin + datetime.timedelta(days=365)\n    if timestamp < timestamp.today():\n        member[\"expired\"] = True\n    member[\"datem\"] = timestamp.strftime('%d/%m/%Y')\n    try:\n        member = process_formations(member)\n    except TypeError:\n        member[\"array_options\"] = {}\n        member[\"array_options\"][\"options_nserie\"] = None\n    return member\n\n\ndef process_formations(member):\n    formations = member[\"array_options\"][\"options_impression3d\"]\n    with open('/opt/wolf/formations.json') as json_file:\n        json_formations = json.load(json_file)\n        member['formations'] = {}\n        member['no_formations'] = {}\n        for formation in json_formations:\n            if json_formations[formation][\"id\"] in formations:\n                member[\"formations\"][formation] = json_formations[formation]\n            else:\n                member[\"no_formations\"][formation] = json_formations[formation]\n    return member\n\n\nclass Common:\n    def __init__(self):\n        self.bp = Blueprint('common', __name__, url_prefix='')\n\n        self.bp.app_errorhandler(404)(self.error_404)\n        self.bp.app_errorhandler(500)(self.error_500)\n\n        self.bp.route('/')(self.index)\n        self.bp.route('/404')(self.error_404)\n        self.bp.route('/500')(self.error_500)\n        self.bp.route('/formations')(self.formations)\n\n    def index(self):\n        return render_template(template_name_or_list='index.html')\n\n    def error_404(self, e=None):\n        return render_template(template_name_or_list='404.html'), 404\n\n    def error_500(self, e=None):\n        return render_template(template_name_or_list='500.html'), 500\n\n    def formations(self):\n        return render_template(template_name_or_list='formations.html')\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/common.py b/common.py
--- a/common.py	(revision f0655359b87b2b055862780849f08fe0f4d2426b)
+++ b/common.py	(date 1658173922048)
@@ -80,6 +80,7 @@
         self.bp.route('/404')(self.error_404)
         self.bp.route('/500')(self.error_500)
         self.bp.route('/formations')(self.formations)
+        self.bp.route('/stock')(self.stock)
 
     def index(self):
         return render_template(template_name_or_list='index.html')
@@ -92,3 +93,6 @@
 
     def formations(self):
         return render_template(template_name_or_list='formations.html')
+
+    def stock(self):
+        return render_template(template_name_or_list='stock.html')
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<project version=\"4\">\n  <component name=\"ChangeListManager\">\n    <list default=\"true\" id=\"69d42743-a013-463c-9425-a9bc88be5343\" name=\"Changes\" comment=\"\" />\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\n  </component>\n  <component name=\"FileTemplateManagerImpl\">\n    <option name=\"RECENT_TEMPLATES\">\n      <list>\n        <option value=\"Python Script\" />\n      </list>\n    </option>\n  </component>\n  <component name=\"FlaskConsoleOptions\" custom-start-script=\"import sys&#10;sys.path.extend([WORKING_DIR_AND_PYTHON_PATHS])&#10;from flask.cli import ScriptInfo&#10;locals().update(ScriptInfo(create_app=None).load_app().make_shell_context())&#10;print(&quot;Python %s on %s\\nApp: %s [%s]\\nInstance: %s&quot; % (sys.version, sys.platform, app.import_name, app.env, app.instance_path))\">\n    <envs>\n      <env key=\"FLASK_APP\" value=\"app\" />\n    </envs>\n    <option name=\"myCustomStartScript\" value=\"import sys&#10;sys.path.extend([WORKING_DIR_AND_PYTHON_PATHS])&#10;from flask.cli import ScriptInfo&#10;locals().update(ScriptInfo(create_app=None).load_app().make_shell_context())&#10;print(&quot;Python %s on %s\\nApp: %s [%s]\\nInstance: %s&quot; % (sys.version, sys.platform, app.import_name, app.env, app.instance_path))\" />\n    <option name=\"myEnvs\">\n      <map>\n        <entry key=\"FLASK_APP\" value=\"app\" />\n      </map>\n    </option>\n  </component>\n  <component name=\"MarkdownSettingsMigration\">\n    <option name=\"stateVersion\" value=\"1\" />\n  </component>\n  <component name=\"ProjectId\" id=\"2Bi9AAIfdpB7rQBWYBurtIsShSx\" />\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\n  <component name=\"ProjectViewState\">\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\n    <option name=\"showExcludedFiles\" value=\"false\" />\n    <option name=\"showLibraryContents\" value=\"true\" />\n  </component>\n  <component name=\"PropertiesComponent\">{\n  &quot;keyToString&quot;: {\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\n    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,\n    &quot;last_opened_file_path&quot;: &quot;/home/sedelpeuch/eirlab/wolf/templates&quot;,\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\n    &quot;settings.editor.selected.configurable&quot;: &quot;com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable&quot;\n  }\n}</component>\n  <component name=\"RecentsManager\">\n    <key name=\"CopyFile.RECENT_KEYS\">\n      <recent name=\"$PROJECT_DIR$/templates\" />\n    </key>\n  </component>\n  <component name=\"RunManager\" selected=\"Python.run_api\">\n    <configuration name=\"main\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\n      <module name=\"wolf\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"PARENT_ENVS\" value=\"true\" />\n      <envs>\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\n      </envs>\n      <option name=\"SDK_HOME\" value=\"\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\n      <EXTENSION ID=\"PythonCoverageRunConfigurationExtension\" runner=\"coverage.py\" />\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/main.py\" />\n      <option name=\"PARAMETERS\" value=\"\" />\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\n      <option name=\"MODULE_MODE\" value=\"false\" />\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\n      <option name=\"INPUT_FILE\" value=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <configuration name=\"run_api\" type=\"PythonConfigurationType\" factoryName=\"Python\" temporary=\"true\" nameIsGenerated=\"true\">\n      <module name=\"wolf\" />\n      <option name=\"INTERPRETER_OPTIONS\" value=\"\" />\n      <option name=\"PARENT_ENVS\" value=\"true\" />\n      <envs>\n        <env name=\"PYTHONUNBUFFERED\" value=\"1\" />\n      </envs>\n      <option name=\"SDK_HOME\" value=\"\" />\n      <option name=\"WORKING_DIRECTORY\" value=\"$PROJECT_DIR$\" />\n      <option name=\"IS_MODULE_SDK\" value=\"true\" />\n      <option name=\"ADD_CONTENT_ROOTS\" value=\"true\" />\n      <option name=\"ADD_SOURCE_ROOTS\" value=\"true\" />\n      <EXTENSION ID=\"PythonCoverageRunConfigurationExtension\" runner=\"coverage.py\" />\n      <option name=\"SCRIPT_NAME\" value=\"$PROJECT_DIR$/run_api.py\" />\n      <option name=\"PARAMETERS\" value=\"\" />\n      <option name=\"SHOW_COMMAND_LINE\" value=\"false\" />\n      <option name=\"EMULATE_TERMINAL\" value=\"false\" />\n      <option name=\"MODULE_MODE\" value=\"false\" />\n      <option name=\"REDIRECT_INPUT\" value=\"false\" />\n      <option name=\"INPUT_FILE\" value=\"\" />\n      <method v=\"2\" />\n    </configuration>\n    <recent_temporary>\n      <list>\n        <item itemvalue=\"Python.run_api\" />\n        <item itemvalue=\"Python.main\" />\n      </list>\n    </recent_temporary>\n  </component>\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\n  <component name=\"TaskManager\">\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\n      <changelist id=\"69d42743-a013-463c-9425-a9bc88be5343\" name=\"Changes\" comment=\"\" />\n      <created>1657377896133</created>\n      <option name=\"number\" value=\"Default\" />\n      <option name=\"presentableId\" value=\"Default\" />\n      <updated>1657377896133</updated>\n      <workItem from=\"1657377902585\" duration=\"78000\" />\n      <workItem from=\"1657380766042\" duration=\"4943000\" />\n      <workItem from=\"1657386403832\" duration=\"82000\" />\n      <workItem from=\"1657455526308\" duration=\"5714000\" />\n      <workItem from=\"1657461262969\" duration=\"18205000\" />\n    </task>\n    <servers />\n  </component>\n  <component name=\"TypeScriptGeneratedFilesManager\">\n    <option name=\"version\" value=\"3\" />\n  </component>\n  <component name=\"Vcs.Log.Tabs.Properties\">\n    <option name=\"TAB_STATES\">\n      <map>\n        <entry key=\"MAIN\">\n          <value>\n            <State />\n          </value>\n        </entry>\n      </map>\n    </option>\n  </component>\n  <component name=\"com.intellij.coverage.CoverageDataManagerImpl\">\n    <SUITE FILE_PATH=\"coverage/wolf$main.coverage\" NAME=\"main Coverage Results\" MODIFIED=\"1657460230445\" SOURCE_PROVIDER=\"com.intellij.coverage.DefaultCoverageFileProvider\" RUNNER=\"coverage.py\" COVERAGE_BY_TEST_ENABLED=\"true\" COVERAGE_TRACING_ENABLED=\"false\" WORKING_DIRECTORY=\"$PROJECT_DIR$\" />\n    <SUITE FILE_PATH=\"coverage/wolf$run_api.coverage\" NAME=\"run_api Coverage Results\" MODIFIED=\"1657480141015\" SOURCE_PROVIDER=\"com.intellij.coverage.DefaultCoverageFileProvider\" RUNNER=\"coverage.py\" COVERAGE_BY_TEST_ENABLED=\"true\" COVERAGE_TRACING_ENABLED=\"false\" WORKING_DIRECTORY=\"$PROJECT_DIR$\" />\n  </component>\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision f0655359b87b2b055862780849f08fe0f4d2426b)
+++ b/.idea/workspace.xml	(date 1658174387336)
@@ -1,7 +1,16 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="ChangeListManager">
-    <list default="true" id="69d42743-a013-463c-9425-a9bc88be5343" name="Changes" comment="" />
+    <list default="true" id="69d42743-a013-463c-9425-a9bc88be5343" name="Changes" comment="✨feat(esp32): add serializer json">
+      <change afterPath="$PROJECT_DIR$/fournisseurs.py" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/templates/stock.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/Remote/wolf_esp/wolf_esp.ino" beforeDir="false" afterPath="$PROJECT_DIR$/Remote/wolf_esp/wolf_esp.ino" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/common.py" beforeDir="false" afterPath="$PROJECT_DIR$/common.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/config.py" beforeDir="false" afterPath="$PROJECT_DIR$/config.py" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/templates/404.html" beforeDir="false" afterPath="$PROJECT_DIR$/templates/404.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/templates/sidebar.html" beforeDir="false" afterPath="$PROJECT_DIR$/templates/sidebar.html" afterDir="false" />
+    </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
     <option name="HIGHLIGHT_NON_ACTIVE_CHANGELIST" value="false" />
@@ -25,6 +34,13 @@
       </map>
     </option>
   </component>
+  <component name="Git.Settings">
+    <option name="RECENT_BRANCH_BY_REPOSITORY">
+      <map>
+        <entry key="$PROJECT_DIR$" value="develop" />
+      </map>
+    </option>
+  </component>
   <component name="MarkdownSettingsMigration">
     <option name="stateVersion" value="1" />
   </component>
@@ -35,23 +51,46 @@
     <option name="showExcludedFiles" value="false" />
     <option name="showLibraryContents" value="true" />
   </component>
-  <component name="PropertiesComponent">{
-  &quot;keyToString&quot;: {
-    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
-    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,
-    &quot;last_opened_file_path&quot;: &quot;/home/sedelpeuch/eirlab/wolf/templates&quot;,
-    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,
-    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,
-    &quot;settings.editor.selected.configurable&quot;: &quot;com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable&quot;
+  <component name="PropertiesComponent"><![CDATA[{
+  "keyToString": {
+    "RunOnceActivity.OpenProjectViewOnStart": "true",
+    "RunOnceActivity.ShowReadmeOnStart": "true",
+    "WebServerToolWindowFactoryState": "false",
+    "last_opened_file_path": "/home/sedelpeuch/eirlab/wolf/templates",
+    "node.js.detected.package.eslint": "true",
+    "node.js.selected.package.eslint": "(autodetect)",
+    "nodejs_package_manager_path": "npm",
+    "settings.editor.selected.configurable": "com.jetbrains.python.configuration.PyActiveSdkModuleConfigurable"
   }
-}</component>
+}]]></component>
   <component name="RecentsManager">
     <key name="CopyFile.RECENT_KEYS">
       <recent name="$PROJECT_DIR$/templates" />
     </key>
   </component>
   <component name="RunManager" selected="Python.run_api">
+    <configuration name="fournisseurs" type="PythonConfigurationType" factoryName="Python" temporary="true" nameIsGenerated="true">
+      <module name="wolf" />
+      <option name="INTERPRETER_OPTIONS" value="" />
+      <option name="PARENT_ENVS" value="true" />
+      <envs>
+        <env name="PYTHONUNBUFFERED" value="1" />
+      </envs>
+      <option name="SDK_HOME" value="" />
+      <option name="WORKING_DIRECTORY" value="$PROJECT_DIR$" />
+      <option name="IS_MODULE_SDK" value="true" />
+      <option name="ADD_CONTENT_ROOTS" value="true" />
+      <option name="ADD_SOURCE_ROOTS" value="true" />
+      <EXTENSION ID="PythonCoverageRunConfigurationExtension" runner="coverage.py" />
+      <option name="SCRIPT_NAME" value="$PROJECT_DIR$/fournisseurs.py" />
+      <option name="PARAMETERS" value="" />
+      <option name="SHOW_COMMAND_LINE" value="false" />
+      <option name="EMULATE_TERMINAL" value="false" />
+      <option name="MODULE_MODE" value="false" />
+      <option name="REDIRECT_INPUT" value="false" />
+      <option name="INPUT_FILE" value="" />
+      <method v="2" />
+    </configuration>
     <configuration name="main" type="PythonConfigurationType" factoryName="Python" temporary="true" nameIsGenerated="true">
       <module name="wolf" />
       <option name="INTERPRETER_OPTIONS" value="" />
@@ -74,6 +113,28 @@
       <option name="INPUT_FILE" value="" />
       <method v="2" />
     </configuration>
+    <configuration name="rs_parser_test" type="PythonConfigurationType" factoryName="Python" temporary="true" nameIsGenerated="true">
+      <module name="wolf" />
+      <option name="INTERPRETER_OPTIONS" value="" />
+      <option name="PARENT_ENVS" value="true" />
+      <envs>
+        <env name="PYTHONUNBUFFERED" value="1" />
+      </envs>
+      <option name="SDK_HOME" value="" />
+      <option name="WORKING_DIRECTORY" value="$PROJECT_DIR$" />
+      <option name="IS_MODULE_SDK" value="true" />
+      <option name="ADD_CONTENT_ROOTS" value="true" />
+      <option name="ADD_SOURCE_ROOTS" value="true" />
+      <EXTENSION ID="PythonCoverageRunConfigurationExtension" runner="coverage.py" />
+      <option name="SCRIPT_NAME" value="$PROJECT_DIR$/rs_parser_test.py" />
+      <option name="PARAMETERS" value="138261" />
+      <option name="SHOW_COMMAND_LINE" value="false" />
+      <option name="EMULATE_TERMINAL" value="false" />
+      <option name="MODULE_MODE" value="false" />
+      <option name="REDIRECT_INPUT" value="false" />
+      <option name="INPUT_FILE" value="" />
+      <method v="2" />
+    </configuration>
     <configuration name="run_api" type="PythonConfigurationType" factoryName="Python" temporary="true" nameIsGenerated="true">
       <module name="wolf" />
       <option name="INTERPRETER_OPTIONS" value="" />
@@ -96,10 +157,19 @@
       <option name="INPUT_FILE" value="" />
       <method v="2" />
     </configuration>
+    <list>
+      <item itemvalue="Python.fournisseurs" />
+      <item itemvalue="Python.main" />
+      <item itemvalue="Python.rs_parser_test" />
+      <item itemvalue="Python.run_api" />
+    </list>
     <recent_temporary>
       <list>
         <item itemvalue="Python.run_api" />
+        <item itemvalue="Python.fournisseurs" />
+        <item itemvalue="Python.rs_parser_test" />
         <item itemvalue="Python.main" />
+        <item itemvalue="Python.run_api" />
       </list>
     </recent_temporary>
   </component>
@@ -116,7 +186,18 @@
       <workItem from="1657386403832" duration="82000" />
       <workItem from="1657455526308" duration="5714000" />
       <workItem from="1657461262969" duration="18205000" />
+      <workItem from="1657961524639" duration="1664000" />
+      <workItem from="1658136659071" duration="2846000" />
+      <workItem from="1658161505132" duration="8810000" />
     </task>
+    <task id="LOCAL-00001" summary="✨feat(esp32): add serializer json">
+      <created>1657961977289</created>
+      <option name="number" value="00001" />
+      <option name="presentableId" value="LOCAL-00001" />
+      <option name="project" value="LOCAL" />
+      <updated>1657961977289</updated>
+    </task>
+    <option name="localTasksCounter" value="2" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -133,8 +214,14 @@
       </map>
     </option>
   </component>
+  <component name="VcsManagerConfiguration">
+    <MESSAGE value="✨feat(esp32): add serializer json" />
+    <option name="LAST_COMMIT_MESSAGE" value="✨feat(esp32): add serializer json" />
+  </component>
   <component name="com.intellij.coverage.CoverageDataManagerImpl">
     <SUITE FILE_PATH="coverage/wolf$main.coverage" NAME="main Coverage Results" MODIFIED="1657460230445" SOURCE_PROVIDER="com.intellij.coverage.DefaultCoverageFileProvider" RUNNER="coverage.py" COVERAGE_BY_TEST_ENABLED="true" COVERAGE_TRACING_ENABLED="false" WORKING_DIRECTORY="$PROJECT_DIR$" />
-    <SUITE FILE_PATH="coverage/wolf$run_api.coverage" NAME="run_api Coverage Results" MODIFIED="1657480141015" SOURCE_PROVIDER="com.intellij.coverage.DefaultCoverageFileProvider" RUNNER="coverage.py" COVERAGE_BY_TEST_ENABLED="true" COVERAGE_TRACING_ENABLED="false" WORKING_DIRECTORY="$PROJECT_DIR$" />
+    <SUITE FILE_PATH="coverage/wolf$rs_parser_test.coverage" NAME="rs_parser_test Coverage Results" MODIFIED="1658170548305" SOURCE_PROVIDER="com.intellij.coverage.DefaultCoverageFileProvider" RUNNER="coverage.py" COVERAGE_BY_TEST_ENABLED="true" COVERAGE_TRACING_ENABLED="false" WORKING_DIRECTORY="$PROJECT_DIR$" />
+    <SUITE FILE_PATH="coverage/wolf$run_api.coverage" NAME="run_api Coverage Results" MODIFIED="1658174363268" SOURCE_PROVIDER="com.intellij.coverage.DefaultCoverageFileProvider" RUNNER="coverage.py" COVERAGE_BY_TEST_ENABLED="true" COVERAGE_TRACING_ENABLED="false" WORKING_DIRECTORY="$PROJECT_DIR$" />
+    <SUITE FILE_PATH="coverage/wolf$fournisseurs.coverage" NAME="fournisseurs Coverage Results" MODIFIED="1658173636157" SOURCE_PROVIDER="com.intellij.coverage.DefaultCoverageFileProvider" RUNNER="coverage.py" COVERAGE_BY_TEST_ENABLED="true" COVERAGE_TRACING_ENABLED="false" WORKING_DIRECTORY="$PROJECT_DIR$" />
   </component>
 </project>
\ No newline at end of file
Index: templates/stock.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/templates/stock.html b/templates/stock.html
new file mode 100644
--- /dev/null	(date 1658174387140)
+++ b/templates/stock.html	(date 1658174387140)
@@ -0,0 +1,50 @@
+{% extends "base.html" %}
+
+{% block content %}
+<div id="content" class="container-fluid">
+    <!-- Page Heading -->
+    <div class="d-sm-flex align-items-center justify-content-between mb-4">
+        <!--        <h1 class="h1 mt-3 mb-0 text-gray-800">Caméléon</h1>-->
+    </div>
+    <div class="card shadow mb-4">
+        <a href="#select" class="d-block card-header py-3" data-toggle="collapse"
+           role="button" aria-expanded="true" aria-controls="select">
+            <h6 class="m-0 font-weight-bold text-secondary">Stocks</h6>
+        </a>
+        <div class="collapse show card-body mb-4" id="scan">
+            <div class="row">
+                <div class="col m-2">
+                    <h4 class="font-weight-bold text-secondary mt-2">Consulter les stocks</h4>
+
+                    <form action="/stock/start" method="GET">
+                        <p class="mt-2"> Appuyez sur le bouton scanner et posez la carte d'un <a
+                                href="https://www.eirlab.net/wp-content/uploads/2022/06/Organigramme-2.png">fabmanager</a>
+                            d'EirLab
+                            Community</p>
+
+                        <button type="submit" class="form-control btn btn-secondary">Consulter</button>
+                </div>
+                <div class="col m-2">
+                    <h4 class="font-weight-bold text-secondary mt-2">Arrivage</h4>
+
+                    <form action="/stock/start" method="GET">
+                        <p class="mt-2 text-danger">Un <a
+                                href="https://www.eirlab.net/wp-content/uploads/2022/06/Organigramme-2.png">fabmanager</a>
+                            d'EirLab Community est nécessaire pour débuter
+                            l'opération</p>
+
+                        <p class="mt-2"> Appuyez sur le bouton scanner et posez la carte d'un <a
+                                href="https://www.eirlab.net/wp-content/uploads/2022/06/Organigramme-2.png">fabmanager</a>
+                            d'EirLab
+                            Community</p>
+
+                        <button type="submit" class="form-control btn btn-secondary">Débuter un arrivage</button>
+                    </form>
+                </div>
+
+            </div>
+        </div>
+    </div>
+</div>
+{% endblock %}
+
Index: fournisseurs.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/fournisseurs.py b/fournisseurs.py
new file mode 100644
--- /dev/null	(date 1658170743414)
+++ b/fournisseurs.py	(date 1658170743414)
@@ -0,0 +1,26 @@
+import requests
+from bs4 import BeautifulSoup
+
+
+class Fournisseur:
+    def __init__(self):
+        self.url_rs = "http://fr.rs-online.com/web/search/searchBrowseAction.html?method=searchProducts&searchTerm="
+
+    def rs(self, ref):
+        html = requests.get(
+            "http://fr.rs-online.com/web/search/searchBrowseAction.html?method=searchProducts&searchTerm=" + ref).text
+        parsed_html = BeautifulSoup(html, "html.parser")
+        title = parsed_html.body.find('h1', attrs={'data-testid': 'long-description'}).text
+        price = parsed_html.body.find('p', attrs={'data-testid': 'price-inc-vat'}).text
+        links = parsed_html.body.find('ul', attrs={'data-testid': 'technical-documents'}).find_all('a')[0].get('href')
+        dict_attributes = {}
+        for row in parsed_html.body.find('table', attrs={'data-testid': 'specification-attributes'}).find(
+                'tbody').find_all('tr'):
+            dict_attributes[row.find('td', attrs={'data-testid': 'specification-attributes-key'}).text] = \
+                row.find('td', attrs={'data-testid': 'specification-attributes-value'}).text
+        return title, price, links, dict_attributes
+
+
+if __name__ == "__main__":
+    four = Fournisseur()
+    print(four.rs("138261"))
Index: Remote/wolf_esp/wolf_esp.ino
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>//Libraries\r\n#include <SPI.h>//https://www.arduino.cc/en/reference/SPI\r\n#include <MFRC522.h>//https://github.com/miguelbalboa/rfid\r\n#include <WiFi.h>\r\n#include <HTTPClient.h>\r\n#include <LiquidCrystal.h>\r\n#include <ArduinoJson.h>\r\n\r\nconst char* ssid = \"eirlabIoT\";\r\nconst char* password = \"\";\r\nconst char* token = \"\";\r\n\r\n// Create An LCD Object. Signals: [ RS, EN, D4, D5, D6, D7 ]\r\nLiquidCrystal My_LCD(13, 12, 14, 27, 26, 25);\r\n\r\n//Constants\r\n#define SS_PIN 5\r\n#define RST_PIN 0\r\n\r\n#define BUZZ_PIN 4\r\n#define RED_PIN 22\r\n#define GREEN_PIN 33\r\n#define BLUE_PIN 32\r\n//Parameters\r\nconst int ipaddress[4] = {103, 97, 67, 25};\r\n//Variables\r\nbyte nuidPICC[4] = {0, 0, 0, 0};\r\nMFRC522::MIFARE_Key key;\r\nMFRC522 rfid = MFRC522(SS_PIN, RST_PIN);\r\n\r\nString uid;\r\n\r\nvoid setup() {\r\n  pinMode(BUZZ_PIN, OUTPUT);\r\n  digitalWrite(BUZZ_PIN, LOW);\r\n\r\n\r\n  pinMode(RED_PIN, OUTPUT);\r\n  pinMode(GREEN_PIN, OUTPUT);\r\n  pinMode(BLUE_PIN, OUTPUT);\r\n\r\n  digitalWrite(RED_PIN, HIGH);\r\n\r\n  // Initialize The LCD. Parameters: [ Columns, Rows ]\r\n  My_LCD.begin(16, 2);\r\n  // Clears The LCD Display\r\n  My_LCD.clear();\r\n\r\n  My_LCD.print(\"Initialize\");\r\n\r\n //Init Serial USB\r\n Serial.begin(115200);\r\n Serial.println(F(\"Initialize System\"));\r\n //init rfid D8,D5,D6,D7\r\n SPI.begin();\r\n rfid.PCD_Init();\r\n Serial.print(F(\"Reader :\"));\r\n rfid.PCD_DumpVersionToSerial();\r\n\r\n  delay(1000);\r\n\r\n  My_LCD.clear();\r\n  My_LCD.print(\"Connecting\");\r\n  My_LCD.setCursor(0,1);\r\n\r\n  WiFi.mode(WIFI_STA); //Optional\r\n  WiFi.begin(ssid, password);\r\n  Serial.println(\"\\nConnecting\");\r\n\r\n  while(WiFi.status() != WL_CONNECTED){\r\n      Serial.print(\".\");\r\n      My_LCD.print(\".\");\r\n    delay(100);\r\n  }\r\n\r\n\r\n  My_LCD.clear();\r\n  My_LCD.print(\"Connected\");\r\n  My_LCD.setCursor(0,1);\r\n  My_LCD.print(\"IP: \");\r\n  My_LCD.print(WiFi.localIP());\r\n\r\n  Serial.println(\"\\nConnected to the WiFi network\");\r\n  Serial.print(\"Local ESP32 IP: \");\r\n  Serial.println(WiFi.localIP());\r\n\r\n  digitalWrite(RED_PIN, LOW);\r\n  digitalWrite(BLUE_PIN, HIGH);\r\n\r\n\r\n\r\n  My_LCD.clear();\r\n}\r\nvoid loop() {\r\n My_LCD.setCursor(0,0);\r\n My_LCD.print(\"Pret a scanner\");\r\n delay(100);\r\n readRFID(&uid);\r\n}\r\n\r\n\r\nvoid readRFID(String *uid) { /* function readRFID */\r\n ////Read RFID card\r\n for (byte i = 0; i < 6; i++) {\r\n   key.keyByte[i] = 0xFF;\r\n }\r\n // Look for new 1 cards\r\n if ( ! rfid.PICC_IsNewCardPresent())\r\n   return;\r\n // Verify if the NUID has been readed\r\n if (  !rfid.PICC_ReadCardSerial())\r\n   return;\r\n // Store NUID into nuidPICC array\r\n for (byte i = 0; i < 4; i++) {\r\n   nuidPICC[i] = rfid.uid.uidByte[i];\r\n }\r\n //Serial.print(F(\"RFID In dec: \"));\r\n *uid = Uid_Hex(rfid.uid.uidByte, rfid.uid.size);\r\n\r\n  Serial.println(*uid);\r\n\r\n  digitalWrite(BLUE_PIN, LOW);\r\n  digitalWrite(BUZZ_PIN, HIGH);\r\n  digitalWrite(GREEN_PIN, HIGH);\r\n  delay(200);\r\n  digitalWrite(BUZZ_PIN, LOW);\r\n  delay(500);\r\n // Halt PICC\r\n\r\n\r\n  digitalWrite(BLUE_PIN, LOW);\r\n  digitalWrite(RED_PIN, HIGH);\r\n\r\n\r\n  My_LCD.clear();\r\n  My_LCD.print(\"ID: \");\r\n  for(int i = 0; i < 12; i++)\r\n  {\r\n    My_LCD.print((*uid)[i]);\r\n  }\r\n  My_LCD.setCursor(0,1);\r\n  for(int i = 12; i < 20; i++)\r\n  {\r\n    My_LCD.print((*uid)[i]);\r\n  }\r\n\r\n rfid.PICC_HaltA();\r\n // Stop encryption on PCD\r\n rfid.PCD_StopCrypto1();\r\n\r\n if ((WiFi.status() == WL_CONNECTED)) { //Check the current connection status\r\n    HTTPClient http;\r\n    for(int j=1; j<20; j++){\r\n      String j_str = (String) j;\r\n      My_LCD.clear();\r\n      My_LCD.print(\"Recherche en cours ...\");\r\n      http.begin(\"https://gestion.eirlab.net/api/index.php/members/?sortfield=t.rowid&sortorder=ASC&limit=20&page=\"+j_str); //Specify the URL\r\n      http.addHeader(\"Accept\", \"application/json\");\r\n      http.addHeader(\"DOLAPIKEY\", token);\r\n      int httpCode = http.GET();\r\n      if (httpCode > 0 ) { //Check for the returning code\r\n        DynamicJsonDocument doc(50000);\r\n        String json = http.getString();\r\n\r\n        DeserializationError error = deserializeJson(doc, json);\r\n\r\n        if (error) {\r\n          Serial.print(\"deserializeJson() failed: \");\r\n          Serial.println(error.c_str());\r\n          return;\r\n        }\r\n\r\n        for (JsonObject item : doc.as<JsonArray>()) {\r\n\r\n          const char* id = item[\"id\"]; // \"2010\", \"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", ...\r\n          const char* lastname = item[\"lastname\"]; // \"FRAYSSINOUS\", \"Amat\", \"Mongabure\", \"PARAISO\", \"Darmon\", ...\r\n          const char* firstname = item[\"firstname\"]; // \"Guy\", \"Paul\", \"Xan\", \"Aurèle\", \"Valentin\", \"Fatima\", ...\r\n          long datec = item[\"datec\"]; // 1647471600, 1647385200, 1647212400, 1646694000, 1646262000, 1646262000, ...\r\n          long datem = item[\"datem\"]; // 1657384213, 1648315351, 1648315351, 1648315351, 1648315351, 1648315351, ...\r\n          String nserie = item[\"array_options\"][\"options_nserie\"];\r\n          if(nserie == *uid){\r\n            My_LCD.clear();\r\n            My_LCD.print(lastname);\r\n            Serial.println(lastname);\r\n            Serial.println(firstname);\r\n            delay(5000);\r\n\r\n            My_LCD.clear();\r\n\r\n            digitalWrite(RED_PIN, LOW);\r\n            digitalWrite(GREEN_PIN, LOW);\r\n            digitalWrite(BLUE_PIN, HIGH);\r\n            return;\r\n          }\r\n        }\r\n      }\r\n\r\n      else {\r\n        Serial.println(\"Error on HTTP request\");\r\n      }\r\n\r\n      http.end(); //Free the resources\r\n      My_LCD.clear();\r\n      My_LCD.print(\"Adhérent inconnu\");\r\n    }\r\n  }\r\n\r\n\r\n\r\n  delay(5000);\r\n\r\n  My_LCD.clear();\r\n\r\n  digitalWrite(RED_PIN, LOW);\r\n  digitalWrite(GREEN_PIN, LOW);\r\n  digitalWrite(BLUE_PIN, HIGH);\r\n\r\n}\r\n/**\r\n   Helper routine to dump a byte array as hex values to Serial.\r\n*/\r\nString Uid_Hex(byte *buffer, byte bufferSize) {\r\n  String uid;\r\n  char provi[10];\r\n for (byte i = 0; i < bufferSize; i++) {\r\n  if(i != bufferSize - 1)\r\n   {\r\n   sprintf(provi, \"%s%X:\", buffer[i] < 0x10 ? \"\" : \"\", buffer[i]);\r\n   }\r\n   else\r\n   {\r\n   sprintf(provi, \"%s%X\", buffer[i] < 0x10 ? \"0\" : \"\", buffer[i]);\r\n   }\r\n\r\n  uid.concat(provi);\r\n }\r\n  //Serial.println(uid);\r\n  return(uid);\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Remote/wolf_esp/wolf_esp.ino b/Remote/wolf_esp/wolf_esp.ino
--- a/Remote/wolf_esp/wolf_esp.ino	(revision f0655359b87b2b055862780849f08fe0f4d2426b)
+++ b/Remote/wolf_esp/wolf_esp.ino	(date 1658172295045)
@@ -7,8 +7,8 @@
 #include <ArduinoJson.h>
 
 const char* ssid = "eirlabIoT";
-const char* password = "";
-const char* token = "";
+const char* password = "eirlab2021enseirb!";
+const char* token = "08b977403545a0c5eafd4ee04d6ce84105f6c229";
 
 // Create An LCD Object. Signals: [ RS, EN, D4, D5, D6, D7 ]
 LiquidCrystal My_LCD(13, 12, 14, 27, 26, 25);
Index: config.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>token = \"\"\nurl = \"https://gestion.eirlab.net/api/index.php/\"\nheaders = {\n    \"Accept\": \"application/json\",\n    \"DOLAPIKEY\": token}\nurl_member = \"members?sortfield=t.rowid&sortorder=ASC&limit=600\"\nurl_user = \"users?sortfield=t.rowid&sortorder=ASC&limit=100\"\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/config.py b/config.py
--- a/config.py	(revision f0655359b87b2b055862780849f08fe0f4d2426b)
+++ b/config.py	(date 1657900175851)
@@ -1,4 +1,4 @@
-token = ""
+token = "08b977403545a0c5eafd4ee04d6ce84105f6c229"
 url = "https://gestion.eirlab.net/api/index.php/"
 headers = {
     "Accept": "application/json",
